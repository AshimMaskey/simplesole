// generator client {
//   provider = "prisma-client-js"
//   output   = "../app/generated/prisma"
// }
generator client {
  provider = "prisma-client-js"
}


datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
  directUrl= env("DIRECT_URL")
}

enum Role {
  USER
  ADMIN
}

model User {
  id String @id
  fullName       String?
  email      String?   @unique                   
  role Role @default(USER) 
  dob        DateTime?
  image_url  String?
  phone      String?
  createdAt  DateTime @default(now())
  updatedAt  DateTime @updatedAt                   
}

model Product {
  id          String      @id @default(cuid())
  name        String
  description String?
  category    String
  base_price  Float
  total_stock Int       @default(0)
  status      String    @default("active") 
  images      String[]  
  created_at  DateTime  @default(now())
  variants    ProductVariant[]
  @@index([category])
}

model ProductVariant {
  id        String  @id @default(cuid())
  size      String
  color     String
  stock     Int
  sku       String
  product   Product @relation(fields: [productId], references: [id])
  productId String
}
